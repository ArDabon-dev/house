<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .header p {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        padding: 30px;
        background: #f8f9fa;
      }

      .stat-card {
        background: white;
        padding: 20px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
      }

      .stat-number {
        font-size: 2rem;
        font-weight: bold;
        color: #4facfe;
        margin-bottom: 5px;
      }

      .stat-label {
        color: #666;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .results-section {
        padding: 30px;
      }

      .section-title {
        font-size: 1.8rem;
        margin-bottom: 25px;
        color: #333;
        text-align: center;
      }

      .results-list {
        display: grid;
        gap: 20px;
      }

      .result-card {
        background: white;
        border: 2px solid #e9ecef;
        border-radius: 15px;
        padding: 25px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .result-card:hover {
        border-color: #4facfe;
        box-shadow: 0 10px 30px rgba(79, 172, 254, 0.2);
        transform: translateY(-2px);
      }

      .result-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #4facfe, #00f2fe);
      }

      .result-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .result-name {
        font-size: 1.4rem;
        font-weight: 600;
        color: #333;
      }

      .result-rank {
        background: linear-gradient(135deg, #4facfe, #00f2fe);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: bold;
        font-size: 0.9rem;
      }

      .result-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .detail-item {
        text-align: center;
      }

      .detail-label {
        font-size: 0.8rem;
        color: #666;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 5px;
      }

      .detail-value {
        font-size: 1.1rem;
        font-weight: 600;
        color: #333;
      }

      .detail-value.positive {
        color: #28a745;
      }

      .detail-value.negative {
        color: #dc3545;
      }

      .detail-value.neutral {
        color: #6c757d;
      }

      .differences {
        display: flex;
        justify-content: space-around;
        background: #f8f9fa;
        padding: 15px;
        border-radius: 10px;
        margin-top: 15px;
      }

      .difference-item {
        text-align: center;
      }

      .difference-label {
        font-size: 0.8rem;
        color: #666;
        margin-bottom: 5px;
      }

      .difference-value {
        font-size: 1.2rem;
        font-weight: bold;
      }

      .no-results {
        text-align: center;
        padding: 60px 20px;
        color: #666;
      }

      .no-results h3 {
        font-size: 1.5rem;
        margin-bottom: 10px;
      }

      .api-info {
        background: #e3f2fd;
        padding: 20px;
        margin: 20px 30px;
        border-radius: 10px;
        border-left: 4px solid #2196f3;
      }

      .api-info h4 {
        color: #1976d2;
        margin-bottom: 10px;
      }

      .api-endpoint {
        background: #f5f5f5;
        padding: 10px;
        border-radius: 5px;
        font-family: monospace;
        margin: 5px 0;
        font-size: 0.9rem;
      }

      @media (max-width: 768px) {
        .container {
          margin: 10px;
          border-radius: 15px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .result-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }

        .result-details {
          grid-template-columns: repeat(2, 1fr);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üèóÔ∏è –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞</h1>
        <p>–ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
      </div>

      {{if .results}}
      <div class="stats">
        <div class="stat-card">
          <div class="stat-number">{{len .results}}</div>
          <div class="stat-label">–í—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{index .results 0 | .CostDifference}}</div>
          <div class="stat-label">–õ—É—á—à–∞—è —ç–∫–æ–Ω–æ–º–∏—è (‚ÇΩ)</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">
            {{index .results (sub (len .results) 1) | .CostDifference}}
          </div>
          <div class="stat-label">–•—É–¥—à–∞—è —ç–∫–æ–Ω–æ–º–∏—è (‚ÇΩ)</div>
        </div>
      </div>

      <div class="results-section">
        <h2 class="section-title">–†–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–æ–≤</h2>
        <div class="results-list">
          {{range $index, $result := .results}}
          <div class="result-card">
            <div class="result-header">
              <div class="result-name">{{$result.Name}}</div>
              <div class="result-rank">#{{add $index 1}}</div>
            </div>

            <div class="result-details">
              <div class="detail-item">
                <div class="detail-label">–ü–ª–∞–Ω. –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                <div class="detail-value">{{$result.PlannedDuration}} –¥–Ω.</div>
              </div>
              <div class="detail-item">
                <div class="detail-label">–§–∞–∫—Ç. –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                <div class="detail-value">{{$result.ActualDuration}} –¥–Ω.</div>
              </div>
              <div class="detail-item">
                <div class="detail-label">–ü–ª–∞–Ω. —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
                <div class="detail-value">{{$result.PlannedCost}} ‚ÇΩ</div>
              </div>
              <div class="detail-item">
                <div class="detail-label">–§–∞–∫—Ç. —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
                <div class="detail-value">{{$result.ActualCost}} ‚ÇΩ</div>
              </div>
            </div>

            <div class="differences">
              <div class="difference-item">
                <div class="difference-label">–†–∞–∑–Ω–∏—Ü–∞ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç–∏</div>
                <div
                  class="difference-value {{if gt $result.CostDifference 0}}negative{{else if lt $result.CostDifference 0}}positive{{else}}neutral{{end}}"
                >
                  {{if gt $result.CostDifference
                  0}}+{{end}}{{$result.CostDifference}} ‚ÇΩ
                </div>
              </div>
              <div class="difference-item">
                <div class="difference-label">–†–∞–∑–Ω–∏—Ü–∞ –≤ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</div>
                <div
                  class="difference-value {{if gt $result.DurationDifference 0}}negative{{else if lt $result.DurationDifference 0}}positive{{else}}neutral{{end}}"
                >
                  {{if gt $result.DurationDifference
                  0}}+{{end}}{{$result.DurationDifference}} –¥–Ω.
                </div>
              </div>
            </div>
          </div>
          {{end}}
        </div>
      </div>
      {{else}}
      <div class="no-results">
        <h3>üìã –ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h3>
        <p>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ API</p>
      </div>
      {{end}}

      <div class="api-info">
        <h4>üîó API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã</h4>
        <div class="api-endpoint">POST /api/results - –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
        <div class="api-endpoint">
          GET /api/results - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (JSON)
        </div>
        <div class="api-endpoint">GET / - –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (HTML)</div>
      </div>
    </div>
  </body>
</html>
